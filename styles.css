:root{ --bg:#0b1220; --card:#0f172a; --muted:#ffffff; --text:#ffffff;
  --pri:#3b82f6; --pri-2:#1d4ed8; --ok:#10b981; --err:#ef4444; --bd:#1f2a44;
  --transition: all .3s cubic-bezier(.4,0,.2,1); }
*{ box-sizing:border-box }
body{ margin:0; font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:linear-gradient(180deg,#0b1220,#0a1020); color:var(--text); min-height:100vh; display:flex; flex-direction:column; }
.container{ max-width:1000px; margin:4vh auto; padding:0 16px; width:100%; flex:1; }
.card{ background:linear-gradient(180deg,#0f172a 0%, #0c1426 100%); border:1px solid var(--bd); border-radius:18px;
  box-shadow:0 10px 40px rgba(0,0,0,.35); padding:22px; transition:var(--transition); position:relative; overflow:hidden; }
.card::before{ content:''; position:absolute; top:0; left:0; right:0; height:3px; background:linear-gradient(90deg,var(--pri),var(--ok)); opacity:0; transition:.3s; }
.card:hover::before{ opacity:1; }
h1{ margin:0 0 12px; font-size:22px; letter-spacing:.2px; display:flex; align-items:center; gap:10px; }
h2{ margin:12px 0 10px; font-size:18px; color:#eaf3ff; display:flex; align-items:center; gap:8px; }
p.muted{ color:var(--muted); margin:6px 0 0; font-size:13px; line-height:1.5; }

label{ display:block; font-size:13px; color:#c6d3e5; margin:12px 0 6px; font-weight:500; }
input,select,textarea{ width:100%;     background: rgb(255 235 235 / 0%); color:#e8f0ff; border:1px solid #1f2a44; border-radius:12px; outline:none; padding:12px; font-size:14px; transition:var(--transition); }
input:focus,select:focus,textarea:focus{ border-color:#385bff; box-shadow:0 0 0 3px rgba(56,91,255,.2); transform:translateY(-2px); }
textarea{ min-height:110px; resize:vertical; }

.row{ display:grid; grid-template-columns:1fr 1fr; gap:14px; }
.row-3{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:14px; }
.actions{ margin-top:14px; display:flex; gap:10px; flex-wrap:wrap; }

button{ appearance:none; border:0; border-radius:12px; padding:12px 16px; font-weight:600;
  background:linear-gradient(180deg,var(--pri),var(--pri-2)); color:#fff; cursor:pointer;
  box-shadow:0 8px 22px rgba(59,130,246,.25); transition:var(--transition); display:flex; align-items:center; gap:8px; position:relative; overflow:hidden; }
button::before{ content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:rgba(255,255,255,.2); transition:left .5s; }
button:hover::before{ left:100%; }
button:hover{ transform:translateY(-3px); box-shadow:0 12px 28px rgba(59,130,246,.35); }
button:active{ transform:translateY(1px); }
button.secondary{ background:#141c2f; border:1px solid var(--bd); color:#dbe7ff; box-shadow:none; }
button.secondary:hover{ background:#1a2438; box-shadow:0 5px 15px rgba(0,0,0,.2); }
button[disabled]{ opacity:.6; cursor:not-allowed; transform:none!important; }

.tabs{ display:flex; gap:10px; flex-wrap:wrap; margin:8px 0 14px; position:relative; }
.tabs::after{ content:''; position:absolute; bottom:0; left:0; right:0; height:1px; background:var(--bd); }
.tabs button{ background:#121a2f; border:1px solid var(--bd); color:#cfe1ff; padding:10px 16px; border-radius:8px 8px 0 0; border-bottom:none; position:relative; transition:var(--transition); }
.tabs button::after{ content:''; position:absolute; bottom:-1px; left:0; right:0; height:2px; background:var(--pri); transform:scaleX(0); transition:transform .3s; }
.tabs button:hover{ background:#1a2438; color:#fff; }
.tabs button.active{ background:linear-gradient(180deg,var(--pri),var(--pri-2)); color:#fff; border-color:var(--pri); }
.tabs button.active::after{ transform:scaleX(1); }

.table-wrap{ overflow:auto; border:1px solid var(--bd); border-radius:14px; max-height:60vh; }
table{ width:100%; border-collapse:collapse; table-layout:auto; background:#0b1324; }
thead th{ position:sticky; top:0; background:#0e1a33; color:#e9f2ff; z-index:10; font-weight:600; white-space:nowrap; overflow:visible; text-overflow:clip; }
th,td{ padding:10px 12px; border-bottom:1px solid #1a2644; white-space:nowrap; overflow:visible; text-overflow:clip; font-size:14px; transition:var(--transition); }
tr:hover td{ background:rgba(59,130,246,.1); }
th{text-align:center} td{text-align:center} td.num{text-align:right}

.hidden{ display:none!important; }
.chip{ padding:3px 8px; border-radius:999px; background:#122041; color:#b9cbff; font-size:12px; display:inline-flex; align-items:center; gap:4px; }
.ok{ color:var(--ok) } .err{ color:var(--err) }
.who{ margin-left:auto; color:#b7c7e0; font-size:13px; display:flex; align-items:center; gap:6px; }
.brand{ display:flex; align-items:center; gap:10px; margin-bottom:10px; padding-bottom:10px; border-bottom:1px solid var(--bd); }
.logo{ width:32px; height:32px; border-radius:10px; background:linear-gradient(135deg,#5b8dff,#6cf9e6); box-shadow:0 8px 18px rgba(108,249,230,.25); display:flex; align-items:center; justify-content:center; color:#0b1220; font-weight:bold; }

.toast-container{ position:fixed; top:20px; right:20px; z-index:1000; display:flex; flex-direction:column; gap:10px; }
.toast{ background:#0f172a; border-left:4px solid; border-radius:8px; padding:16px; min-width:250px; box-shadow:0 10px 25px rgba(0,0,0,.3);
  display:flex; align-items:center; gap:12px; animation:slideIn .3s forwards; opacity:0; transform:translateX(100%); }
.toast.success{ border-color:var(--ok) } .toast.error{ border-color:var(--err) } .toast.info{ border-color:var(--pri) }
.toast-icon{ font-size:20px } .toast.success .toast-icon{ color:var(--ok) } .toast.error .toast-icon{ color:var(--err) } .toast.info .toast-icon{ color:var(--pri) }
.toast-message{ flex:1 } .toast-close{ background:none; border:none; color:var(--muted); cursor:pointer; font-size:16px; width:24px; height:24px; display:flex; align-items:center; justify-content:center; border-radius:4px; transition:var(--transition); }
.toast-close:hover{ background:rgba(255,255,255,.1); color:var(--text); }
/* Khớp class theo JS: .ok / .err */
.toast.ok  { border-color: var(--ok); }
.toast.err { border-color: var(--err); }

/* Icon đầu tiên trong toast (JS không gắn .toast-icon) */
.toast > i { font-size: 20px; }

/* (Tuỳ chọn) tô màu icon theo trạng thái */
.toast.ok  > i { color: var(--ok); }
.toast.err > i { color: var(--err); }

/* Giữ hiệu ứng vào, KHÔNG auto ẩn bằng CSS */
.toast {
  animation: slideIn .3s forwards; /* không có slideOut */
  opacity: 0;
  transform: translateX(100%);
}


.spinner{ display:inline-block; width:16px; height:16px; border:2px solid rgba(255,255,255,.3); border-radius:50%; border-top-color:#fff; animation:spin .8s linear infinite; }
@keyframes slideIn{ to{ opacity:1; transform:translateX(0) } }
@keyframes slideOut{ to{ opacity:0; transform:translateX(100%) } }
@keyframes spin{ to{ transform:rotate(360deg) } }

.footer{ text-align:center; padding:20px; color:var(--muted); font-size:13px; border-top:1px solid var(--bd); margin-top:20px; }

/* Rộng tối thiểu cho cột */
#hoursHead th:nth-child(1), #hoursRow td:nth-child(1){ min-width:60px; text-align:center; }
#hoursHead th:nth-child(2), #hoursRow td:nth-child(2){ min-width:220px; }
#hoursHead th:nth-child(3), #hoursRow td:nth-child(3),
#hoursHead th:nth-child(4), #hoursRow td:nth-child(4){ min-width:110px; text-align:center; }
#hoursHead th:nth-child(n+5), #hoursRow td:nth-child(n+5){ min-width:54px; text-align:center; }

/* Mobile */
@media (max-width:768px){
  .container{ margin:2vh auto; padding:0 12px; }
  .card{ padding:16px; }
  .row,.row-3{ grid-template-columns:1fr; }
  th,td{ padding:8px 10px; font-size:13px; }
  h1{ font-size:20px } h2{ font-size:16px }
  .toast-container{ top:10px; right:10px; left:10px; }
}
/* ---------- Theme tokens ---------- */
:root{
  --bg:#0a0f1c; --text:#eaf1ff; --muted:#ffffff;
  --glass:rgba(237, 221, 221, 0.06); --glass-bd:rgba(255, 255, 255, 0.18);
  --pri:#6aa7ff; --pri-2:#4777ff; --ok:#2ad5a5; --err:#ff6b7a;
  --ring:rgba(110,160,255,.35);
}
body.theme-light{
  --bg:#f7f8fb; --text:#0f1a2e; --muted:#5a6b85;
  --glass:rgba(255,255,255,.7); --glass-bd:rgba(10,20,40,.08);
  --pri:#2e6bff; --pri-2:#204de6; --ok:#0fb87f; --err:#e63c4d;
  --ring:rgba(46,107,255,.25);
}

/* ---------- Base ---------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text); background:var(--bg);
  font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

/* Aurora animated background */
.aurora{position:fixed; inset:0; overflow:hidden; z-index:-1; filter:blur(60px);}
.aurora span{
  position:absolute; width:40vw; height:40vw; border-radius:50%;
  opacity:.35; transform:translate(-50%,-50%); animation:float 18s ease-in-out infinite;
}
.aurora span:nth-child(1){ left:10%; top:15%; background:#6aa7ff;}
.aurora span:nth-child(2){ left:80%; top:20%; background:#2ad5a5; animation-delay:2s;}
.aurora span:nth-child(3){ left:30%; top:75%; background:#d977ff; animation-delay:4s;}
.aurora span:nth-child(4){ left:90%; top:70%; background:#ffd166; animation-delay:6s;}
@keyframes float{
  0%,100%{ transform:translate(-50%,-50%) scale(1); }
  50%{ transform:translate(-40%,-45%) scale(1.2); }
}

/* Topbar */
.topbar{
  position:sticky; top:0; backdrop-filter:saturate(120%) blur(12px);
  background:linear-gradient(to bottom, rgba(0,0,0,.35), transparent);
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 20px; z-index:5; border-bottom:1px solid var(--glass-bd);
}
.brand{display:flex; gap:10px; align-items:center}
.logo{
  width:32px;height:32px;border-radius:10px;background:linear-gradient(135deg,#78b0ff,#6bf2d3);
  color:#0a0f1c;font-weight:800;display:flex;align-items:center;justify-content:center;
  box-shadow:0 10px 25px rgba(118,190,255,.35);
}
.title{font-weight:700; letter-spacing:.4px}
.actions-top .ghost{margin-left:6px}

/* Layout */
.container{max-width:1100px;margin:24px auto;padding:0 18px}
.glass.card{
  background:var(--glass); border:1px solid var(--glass-bd); border-radius:18px;
  box-shadow:0 20px 40px rgba(0,0,0,.25);
  padding:22px; position:relative; overflow:hidden;
}
h1{margin:0 0 12px; font-size:22px}
h2{margin:14px 0 12px; font-size:18px}
.muted{color:var(--muted); font-size:13px}

.grid-2{display:grid; grid-template-columns:1fr 1fr; gap:14px}
@media (max-width:840px){ .grid-2{grid-template-columns:1fr} }

/* Fields */
.field{display:flex; flex-direction:column; gap:8px}
.field > span{font-size:13px; color:var(--muted)}
input,select,textarea{
  width:100%; padding:12px 14px; border-radius:12px; background:rgba(255,255,255,.06);
  border:1px solid var(--glass-bd); color:var(--text); outline:none;
}
textarea{min-height:110px; resize:vertical}
input:focus,select:focus,textarea:focus{
  box-shadow:0 0 0 4px var(--ring); border-color:transparent;
}

/* Buttons */
.btn{
  appearance:none; border:0; color:#fff; font-weight:700; letter-spacing:.2px;
  padding:12px 18px; border-radius:12px; cursor:pointer;
  background:linear-gradient(120deg,var(--pri),var(--pri-2));
  box-shadow:0 12px 28px rgba(74,117,255,.35); position:relative; overflow:hidden;
}
.btn:before{
  content:""; position:absolute; inset:0; background:linear-gradient(90deg,rgba(255,255,255,.18),transparent 40%, transparent 60%, rgba(255,255,255,.18));
  transform:translateX(-100%); transition:transform .6s;
}
.btn:hover:before{ transform:translateX(100%); }
.btn:disabled{opacity:.6; cursor:not-allowed}
.ghost{ background:transparent; border:1px solid var(--glass-bd); color:var(--text); border-radius:10px; padding:8px 10px; cursor:pointer; }

/* Tabs */
.tabs{position:relative; display:flex; gap:10px; border-bottom:1px solid var(--glass-bd); margin:8px 0 16px}
.tab{position:relative; background:transparent; border:0; color:var(--text); padding:10px 14px; border-radius:10px; cursor:pointer}
.tab.active{background:rgba(255,255,255,.08)}
.tabs .underline{position:absolute; bottom:-1px; height:2px; width:140px; background:linear-gradient(90deg,var(--pri),var(--ok)); transition:transform .25s; transform:translateX(0)}
/* underline auto-move handled in JS */

/* Table */
.table-wrap{ overflow:auto; border:1px solid var(--glass-bd); border-radius:14px; max-height:60vh }
table{ width:100%; border-collapse:collapse; table-layout:auto; background:rgba(255,255,255,.03) }
thead th{ position:sticky; top:0; backdrop-filter:blur(8px); background:rgba(10,16,28,.7); z-index:5; font-weight:700 }
th,td{ padding:10px 12px; border-bottom:1px solid var(--glass-bd); white-space:nowrap; }
tr:hover td{ background:rgba(110,160,255,.08) }
td.num{text-align:right}
th{text-align:center}

/* Sticky first 4 columns */
#hoursHead tr th:nth-child(1),
#hoursHead tr th:nth-child(2),
#hoursHead tr th:nth-child(3),
#hoursHead tr th:nth-child(4),
#hoursRow td:nth-child(1),
#hoursRow td:nth-child(2),
#hoursRow td:nth-child(3),
#hoursRow td:nth-child(4){
  position:sticky; left:0; background:rgba(10,16,28,.85); z-index:6;
}
#hoursHead tr th:nth-child(2), #hoursRow td:nth-child(2){ left:48px }
#hoursHead tr th:nth-child(3), #hoursRow td:nth-child(3){ left:255px }
#hoursHead tr th:nth-child(4), #hoursRow td:nth-child(4){ left:338px }

/* min-widths */
#hoursHead th:nth-child(1), #hoursRow td:nth-child(1){ min-width:20px }
#hoursHead th:nth-child(2), #hoursRow td:nth-child(2){ min-width:210px; text-align:center }
#hoursHead th:nth-child(3), #hoursRow td:nth-child(3),
#hoursHead th:nth-child(4), #hoursRow td:nth-child(4){ min-width:80px; text-align:center }
#hoursHead th:nth-child(n+5), #hoursRow td:nth-child(n+5){ min-width:56px; text-align:center }

@media (max-width: 768px) {
  #hoursHead th, #hoursRow td {
    position: static !important;
  }
}

/* Skeleton */
.skeleton{
  position:relative; color:var(--muted); padding:10px 12px; border:1px dashed var(--glass-bd);
  border-radius:10px; overflow:hidden;
}
.skeleton:after{
  content:""; position:absolute; inset:0; background:linear-gradient(90deg,transparent,rgba(255,255,255,.08),transparent);
  transform:translateX(-100%); animation:shimmer 1.5s infinite;
}
@keyframes shimmer{ to{ transform:translateX(100%) } }

/* Toast */
.toast-container{ position:fixed; right:18px; top:18px; display:flex; flex-direction:column; gap:10px; z-index:10 }
.toast{ display:flex; align-items:center; gap:10px; background:rgba(10,16,28,.9); color:var(--text); border:1px solid var(--glass-bd); border-left:4px solid var(--pri);
  padding:12px 14px; border-radius:10px; box-shadow:0 10px 24px rgba(0,0,0,.35); animation:show .7s ease }
.toast.ok{ border-left-color:var(--ok) } .toast.err{ border-left-color:var(--err) }
@keyframes show{ from{opacity:0; transform:translateY(-6px)} to{opacity:1; transform:translateY(0)} }

.footer{ text-align:center; color:var(--muted); padding:20px 0 }
.text-err{ color:var(--err) }
.row-actions{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
/* ========== SELECT (native) ========== */

/* Ẩn UI mặc định, đồng bộ nền/chữ + padding chừa chỗ cho icon */
.select-wrap { position: relative; }
.select-wrap select{
  appearance: none; -webkit-appearance: none; -moz-appearance: none;
  width: 100%;
  background:rgba(255,255,255,.06);                 /* nền input đóng */
  color: var(--text);
  border: 1px solid var(--glass-bd);
  border-radius: 12px;
  padding: 12px 42px 12px 12px;         /* chừa chỗ icon bên phải */
  outline: none;
  transition: box-shadow .2s, border-color .2s, background .2s;
}
.theme-light .select-wrap select{
  background: rgba(255,255,255,.8);
}

/* Vòng sáng khi focus */
.select-wrap select:focus{
  border-color: transparent;
  box-shadow: 0 0 0 4px var(--ring);
}

/* Icon caret (Font Awesome đã load sẵn) */
.select-wrap::after{
  content: "\f107";                     /* fa-chevron-down */
  font-family: "Font Awesome 6 Free";
  font-weight: 900;
  position: absolute;
  right: 12px; top: 50%;
  transform: translateY(-50%);
  color: var(--muted);
  pointer-events: none;
}

/* Màu dropdown menu + option (Chrome/Edge/Firefox hỗ trợ cơ bản) */
.select-wrap select option{
  background:rgba(255, 255, 255, 0.079);                  /* nền list mở ra */
  color: #0f1a2e;                       /* chữ sáng */
}
.theme-light .select-wrap select option{
  background: #f6f8ff; color:#0f1a2e;
}

/* Option được chọn */
.select-wrap select option:checked{
  background: #3b82f6;                  /* xanh nổi bật */
  color: #fff;
}

/* Trạng thái disabled */
.select-wrap select:disabled{
  opacity:.6; cursor:not-allowed;
}

/* Ẩn mũi tên mặc định IE/Edge cũ (an toàn) */
select::-ms-expand{ display:none; }

.softline{ border:0; border-top:1px solid var(--glass-bd); margin:14px 0 }
#reqTable { width:100%; border-collapse:collapse; background:rgba(255,255,255,.03) }
#reqTable th, #reqTable td { padding:10px 12px; border-bottom:1px solid var(--glass-bd); white-space:nowrap; }
#reqTable td:last-child { white-space:normal; } /* để nội dung dài được xuống dòng */

.list-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 16px 0;
}

.list-header h3 {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: #eaf3ff;
  display: flex;
  align-items: center;
  gap: 8px;
}

.sched-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill,minmax(210px,1fr));
  gap:12px; margin:10px 0;
}
.sched-card{
  border:1px solid var(--bd);
  background: rgba(255,255,255,.02);
  border-radius:12px; padding:12px;
}
.sched-card h4{ margin:0 0 8px; font-size:14px; }
.sched-cks{ display:flex; gap:10px; flex-wrap:wrap; }
.sched-cks label{ display:flex; align-items:center; gap:6px; }

thead th, td { white-space: nowrap; }

/* Schedule grid */
.sched-grid{
  display:grid; gap:16px;
  grid-template-columns: repeat(4, minmax(0,1fr));
}
@media(max-width:1100px){ .sched-grid{ grid-template-columns: repeat(3,1fr);} }
@media(max-width:800px){  .sched-grid{ grid-template-columns: repeat(2,1fr);} }
@media(max-width:520px){  .sched-grid{ grid-template-columns: 1fr;} }

.shift-card{
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 18px; padding:16px 14px;
  backdrop-filter: blur(8px);
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
}
.shift-card:hover{
  transform: translateY(-2px);
  box-shadow: 0 14px 36px rgba(0,0,0,.32);
  border-color: rgba(59,130,246,.45);
}
.shift-head{
  display:flex; align-items:center; justify-content:space-between;
  font-weight:600; margin-bottom:10px;
}
.shift-date{ color:var(--muted); font-size:13px; }
.shift-actions{ display:flex; gap:8px; flex-wrap:wrap; }

/* chip-style shift buttons */
.ca-btn{
  padding:8px 12px; border-radius:999px;
  border:1px solid var(--bd);
  background: rgba(255,255,255,.06);
  color:var(--text); font-weight:600; font-size:13px;
  letter-spacing:.2px; cursor:pointer;
  transition: background .2s, border-color .2s, transform .05s;
  user-select:none;
}
.ca-btn:hover{ border-color:var(--pri); }
.ca-btn:active{ transform: translateY(1px); }

/* selected */
.ca-btn.active{
  background: linear-gradient(180deg, var(--pri), var(--pri-2));
  border-color: transparent; color:#fff;
  box-shadow: 0 6px 20px rgba(59,130,246,.35);
}

/* small helper */
.badge{
  display:inline-flex; gap:6px; align-items:center;
  font-size:12px; color:var(--muted);
}

/* Thanh công cụ chứa tab + nút */
.tabbar{
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:nowrap;              /* KHÔNG cho xuống dòng */
}

/* Vùng tabs: cho cuộn ngang, không wrap */
.tabs{
  display:flex;
  gap:10px;
  flex:1 1 auto;                 /* chiếm phần còn lại */
  min-width:0;                   /* để overflow-x hoạt động */
  overflow-x:auto;               /* cuộn ngang trên mobile */
  -webkit-overflow-scrolling:touch;
  white-space:nowrap;
  scrollbar-width:none;          /* ẩn scrollbar (Firefox) */
}
.tabs::-webkit-scrollbar{ display:none; } /* ẩn scrollbar (Chrome) */
.tabs .tab{ flex:0 0 auto; }     /* mỗi tab là một “chip” không co giãn */


.tab-actions{
  display:flex;
  align-items:center;
  gap:10px;
  flex:0 0 auto;               
}

@media (max-width: 640px){
  .tabbar{ gap:8px; }
  .tabs .tab{ padding:8px 12px; font-size:13px; }
  .tab-actions .btn{ padding:8px 10px; font-size:13px; }

  .tab-actions{ flex:0 1 auto; }
}

.note-wrap{margin:10px 0 6px}
.note-wrap label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
#scheduleNote {
    width: 100%;
    background: rgba(255, 255, 255, .06);
    color: #dee0e4;
    border: 1px solid var(--glass-bd);
    border-radius: 12px;
    padding: 8px 10px;
    min-height: 40px;
    resize: vertical;
}
#scheduleNote:focus{border-color:#385bff; box-shadow:0 0 0 3px rgba(56,91,255,.2)}



